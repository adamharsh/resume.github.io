(function(){var e=[].indexOf||function(e){for(var n=0,t=this.length;n<t;n++)if(n in this&&this[n]===e)return n;return-1},n=[].slice;define("modules/clean/notserver",["jquery","external/underscore","modules/constants/notserver","modules/core/exception","modules/core/uri","modules/clean/viewer"],function(t,r,o,i,a,s){var l,u,c,d,assert,p,m,h,f;assert=i.assert,l={},u=!1,d="/subscribe",c=(function(){function o(){}return o.prototype.add_notclient=function(e,n){return this.new_notclient(e),setTimeout(function(){return l[e].init(n)},2e3)},o.prototype.new_notclient=function(o){var i,s,c,p,m,h,f,b,y,g,_,v,w,N,T,k,E,M,P,C,x,I,S,D,U,A,q,O,B,F,R,L,j,$,K,W,H,V,z,G,X,Y;return assert(e.call(l,o)<0,"cannot create more than one notclient per user"),C=function(e){return r.isNumber(e)&&e%1===0&&e>0},P=function(e){return r.isNumber(e)&&e%1===0&&e>=0},assert(C(o),"user_id must be a positive integer"),x=function(){var e;if(e=1<=arguments.length?n.call(arguments,0):[],u)return console.log.apply(console,e)},i=9e4,p=8096,h="user",m="list",k=!1,s=1e3,c=3e5,q=0,V=function(){var e;return e=0===w?0:Math.min(s*Math.pow(2,w-1),c),Math.max(e,q)},U=null,O={},T={},D=1,E=!1,M=!1,Y=null,y=!1,R=!1,G=[],H=null,v=null,I=null,S={},B=!1,w=0,z=0,X=function(e,n){var t,r,o;r=[];for(t in n)o=n[t],t=parseInt(t,10),assert(C(t),"ns_ids must be positive integers: "+t),assert(P(o),"sjids must be nonnegative integers: "+o),null!=e[t]?r.push(e[t]=Math.min(e[t],o)):r.push(e[t]=o);return r},g=function(){var n,t,i,s;return assert(!r.isEmpty(O),"expected ns_map"),i={host_int:0,trace:window.location.pathname},n=r.pluck(r.values(T),"type"),e.call(n,h)>=0&&(assert(null!=U,"expected nid"),i.user_id=o,i.nid=null!=U?U.replace(/^0+(.)/,"$1"):void 0),e.call(n,m)>=0&&(i.ns_map=(function(){var e;e=[];for(t in O)s=O[t],e.push(t+"_"+s);return e})().join(",")),a.parse(d).updateQuery(i).toString().length>p&&delete i.ns_map,i},_=function(){var e;if(k)return e=V(),e>0?v=window.setTimeout(f,e):R?void 0:f()},f=function(){var e;return assert(!E&&!M,"connect: invalid state"),assert(U>=0||!r.isEmpty(O),"notclient: called connect with nothing to subscribe to"),x("###########################"),e=g(),null!=e.nid||e.ns_map?(x("connecting to notserver..."),E=!0,z+=1,Y=t.ajax(d,{data:e,dataType:"json",error:function(){return y?void(y=!1):(w+=1,x("error connecting to notserver. bad rounds="+w+"."),E=!1,_())},success:function(e){return x("notserver connection closed. response:",e),E=!1,null!=e.chillout?(q=1e3*parseInt(e.chillout,10),x("notserver told us to chill for "+q+"ms")):q>0&&(x("setting notserver chillout back to 0ms"),q=0),"punt"===e.ret?_():(assert("new"===e.ret,"unknown notserver ret: "+e.ret),assert("refresh"in e,"expected notserver ret:new to have refresh keyword"),W(e.refresh))}})):void x("nothing to subscribe to. skipping notserver connection.")},b=function(){if(null!=Y)return y=!0,Y.abort(),Y=null},F=function(){return R=!0,b()},K=function(){return F=!1,_()},L=function(){return q=0,E=!1,M=!1,b(),G=[],window.clearTimeout(H),window.clearTimeout(v),H=null,v=null,I=null,S={},B=!1,w=0,_()},$=function(){return k=!1,q=0,U=null,O={},T={},0,D=1,E=!1,M=!1,Y=null,y=!1,G=[],window.clearTimeout(H),window.clearTimeout(v),H=null,v=null,I=null,S={},B=!1,w=0,z=0},W=function(n){var t,o,a,s,l,u,c,d;for(assert(!M&&!E,"run_handlers: invalid state"),assert(null===I,"run_handlers: new_nid must start at null"),assert(r.isEqual(S,{}),"run_handlers: new_ns_map must start at {}"),assert(!B,"expected one_or_more_handler_failures=false"),M=!0,x("running handlers..."),c=r.filter(r.values(T),function(t){var r;return r=t.type,e.call(n,r)>=0}),assert(!r.isEmpty(c),"notserver sent a ping for unsubscribed activity"),G=r.pluck(c,"handler_id"),a=0,s=c.length;a<s;a++)u=c[a],t=u.handler,o=u.handler_id,l=u.name,d=u.type,x("running id="+o+", name="+l+", type="+d),t();return r.isEmpty(G)?x("all handlers already finished running. no need for a slacker timeout."):(x("all handlers running. slacker timeout set."),H=window.setTimeout(j,i))},j=function(){var e,n,t,o;for(assert(M&&!E,"called report_slackers in an invalid state."),assert(!r.isEmpty(G,"report_slackers called w/ nothing slackin'")),x("found some slackers"),B=!0,o=[],n=0,t=G.length;n<t;n++)e=G[n],o.push(N(e));return o},N=function(n){if(!(e.call(G,n)<0))return x("done handling: "+n),G=r.without(G,n),r.isEmpty(G)?(x("all handlers are done running."),M=!1,window.clearTimeout(H),null!=I&&(x("new nid: "+I),U=I),r.isEmpty(S)||(x("new ns_map:",S),O=S),B?(w+=1,x("one or more handler errors. bad_rounds="+w)):w=0,I=null,S={},B=!1,_()):void 0},A={get_user_id:function(){return o},get_nid:function(){return U},get_ns_map:function(){return r.clone(O)},get_consecutive_bad_rounds:function(){return w},get_total_rounds:function(){return z},get_notserver_chillout_ms:function(){return q},get_sleep_ms:V,subscribe_user:function(n){var t,o,i,a,s,l,u;for(assert(!M,"adding new handlers from inside handlers is not currently supported"),u=["name","handler","nid"],i=0,a=u.length;i<a;i++)l=u[i],assert(n[l],"subscribe_user requires this param be non-falsey: "+l+", "+n[l]);return assert(r.isFunction(n.handler),"handler must be a function"),x("adding user handler "+n.name),o=r.pluck(r.values(T),"type"),s=e.call(o,h)<0,t=D++,T[t]={handler_id:t,handler:n.handler,name:n.name,type:h},(null==U||n.nid<U)&&(U=n.nid,s=!0),s&&(x("first user handler added, reconnecting"),L()),t},subscribe_sfj:function(n){var t,o,i,a,s,l,u;for(assert(!M,"adding new handlers from inside handlers is not currently supported"),u=["name","handler"],i=0,a=u.length;i<a;i++)l=u[i],assert(n[l],"subscribe_sfj requires this param be non-falsey: "+l);return assert(r.isFunction(n.handler),"handler must be a function"),x("adding sfj handler "+n.name),o=r.pluck(r.values(T),"type"),s=e.call(o,m)<0,t=D++,T[t]={handler_id:t,handler:n.handler,name:n.name,type:m},s&&(x("first sfj handler added, reconnecting"),L()),t},unsubscribe:function(e){if(assert(e in T,"no subscribed handler with the given id"),M&&(console.warn("trying to unsubscribe '"+e+"' while is_handling is true"),B=!0,N(e)),delete T[e],r.isEmpty(T))return b()},handler_success:function(n,t){var r;if(!(e.call(G,n)<0))return r=T[n].type,r===m?(assert("ns_map"in t,"ns_map required param is missing"),assert(!("nid"in t),"nid is disallowed from SFJ handlers"),X(S,t.ns_map)):(assert(r===h,"unknown handler type: "+r),assert("nid"in t,"nid required param is missing"),assert(!("ns_map"in t),"ns_map is disallowed from user handlers"),(null==I||t.nid<I)&&(I=t.nid)),N(n)},handler_failure:function(n){if(x("handler failed. handler_id="+n),!(e.call(G,n)<0))return B=!0,N(n)},handle_visibility_change:function(){return window.document.hidden?b():L()},init:function(e){return assert(!k,"error: init() has been called twice."),X(O,e),k=!0,null==window.document.visibilityState?_():(document.addEventListener("visibilitychange",this.handle_visibility_change),window.document.hidden?void 0:_())},reset:$,abort:b,pause:F,resume:K,reconnect:L},l[o]=A,A},o})(),c=new c,h=s.get_viewer().get_users();for(p=0,m=h.length;p<m;p++)f=h[p],c.add_notclient(f.id,o.NS_MAP[f.id]);return{NotServer:c,NotClients:l}})}).call(this),define("modules/clean/photos/thumb_loading/generic_thumb_store",["require","exports","modules/clean/photos/thumb_loading/http2_thumb_loader","modules/core/exception"],function(e,n,t,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=(function(){function e(e,n){this.loaderBatches=!1,this.thumbUrlToData={},this.callbackByRequestId={},this.loaderBatches=!!n,this.thumbLoader=e?e:new t.Http2ThumbLoader}return e.prototype.is_batching=function(){return this.loaderBatches},e.prototype.bind_url=function(e,n){var t=this;if(r.assert(!!n.onSuccess,"missing onSuccess handler"),this.thumbUrlToData[e])return n.onRequest&&n.onRequest(!0),n.onSuccess(!0),null;var o=this.thumbLoader.get_request_id();this.callbackByRequestId[o]=n;var i=function(){var e=t.callbackByRequestId[o];e&&e.onRequest&&e.onRequest(!1)},a=function(n){t.thumbUrlToData[e]=n;var r=t.callbackByRequestId[o];r&&r.onSuccess(!1)},s=function(){var e=t.callbackByRequestId[o];e&&e.onError&&e.onError()},l=function(){return t.callbackByRequestId.hasOwnProperty(o)};return this.thumbLoader.load_image(e,o,i,a,s,l),o},e.prototype.unbind_url=function(e){e&&(delete this.callbackByRequestId[e],this.thumbLoader.cancel_thumb(e))},e.prototype.get_thumb=function(e){return this.thumbUrlToData[e]?this.thumbUrlToData[e]:null},e})();n.GenericThumbStore=o}),define("modules/clean/photos/thumb_loading/http2_thumb_loader",["require","exports","modules/clean/photos/thumb_loading/utils"],function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(function(){function e(){this.http2RequestId=0}return e.prototype.get_request_id=function(){return this.http2RequestId+=1,this.http2RequestId.toString()},e.prototype.load_image=function(e,n,r,o,i,a){r(),t.load_individual_image(e,1,o,i,a)},e.prototype.cancel_thumb=function(e){},e})();n.Http2ThumbLoader=r}),define("modules/clean/photos/thumb_loading/utils",["require","exports"],function(e,n){"use strict";function t(e,n,t,r,o){var i=new Image;i.onload=function(){return t(e)},i.onerror=function(){n>0&&o()?(n-=1,i.src=e):r()},i.src=e}Object.defineProperty(n,"__esModule",{value:!0}),n.load_individual_image=t}),define("modules/clean/react/app_actions_view",["require","exports","tslib","external/classnames","external/mcl/button","external/mcl/icon_action","external/mcl/popover","external/mcl/overflow_button","external/mcl/tertiary_link","external/react","modules/clean/react/css","modules/clean/react/sprite_div","modules/clean/react_logger","modules/clean/user_education/user_education_client"],function(e,n,t,r,o,i,a,s,l,u,c,d,p,m){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=function(){return null},f=function(e){var n=e.primaryMenuItem,t=e.secondaryMenuItems,r=e.popoverTriggerLabel,o=function(e){e.handleClick&&e.handleClick()};return n&&r?u.createElement(a.Popover,{onSelection:o},u.createElement(a.PopoverTrigger,null,u.createElement(s.OverflowButton,{tagName:"span","aria-label":r,variant:"borderless"})),u.createElement(a.PopoverContent,{attachment:"right"},n&&u.createElement(a.PopoverContentItem,{key:n.displayName,value:n,className:n.className,disabled:n.disabled},n.iconName&&u.createElement(i.IconAction,{name:n.iconName}),n.displayName),t&&t.map(function(e){return u.createElement(a.PopoverContentItem,{key:e.displayName,value:e,className:e.className,disabled:e.disabled},e.iconName&&u.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)}))):u.createElement("noscript",null)},b=function(e){var n=e.primaryMenuItem,t=e.headerText;if(n&&Object.keys(n).length>0){var i=r("primary-action-menu__button",n.className);return u.createElement("div",{className:"primary-action-menu"},u.createElement("span",{className:"primary-action-menu__header-text"},t),u.createElement("div",{className:"primary-action-menu__button-wrapper"},u.createElement(o.Button,{className:i,disabled:n.disabled,onClick:n.handleClick,variant:"primary"},u.createElement(m.UserEducationEffect,{containerName:"AppActionsView",name:"PrimaryButtonText",useSpan:!0},n.displayName))))}return u.createElement("noscript",null)},y=function(e){var n=e.menuItem,t=n.disabled,o=n.displayName,i=n.handleClick,a=n.iconName,s=r("secondary-action-menu__button",e.menuItem.className);return u.createElement(l.TertiaryLink,{key:o,icon:a,onClick:i,disabled:t,className:s},u.createElement(m.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+a},o))},g=function(e){var n=e.menuItem;return u.createElement("button",{className:r({"secondary-action-menu__button":!0,"secondary-action-menu__button--legacy":!0,disabled:n.disabled}),onClick:n.disabled?h:n.handleClick},u.createElement(d,{alt:n.iconAlt||"",group:n.iconGroup||"web",name:n.spriteName}),u.createElement("span",{className:"secondary-action-menu__button-text"},u.createElement(m.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+n.spriteName},n.displayName)))},_=function(e){var n=e.secondaryMenuItems;return u.createElement(l.TertiaryList,{className:"secondary-action-menu"},n.map(function(e){return e.spriteName?u.createElement(g,{key:e.displayName,menuItem:e}):u.createElement(y,{key:e.displayName,menuItem:e})}))},v=(function(e){function n(n){return e.call(this,"AppActionsView",n)||this}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.props.handleComponentTTI("AppActionsView"),e.prototype.componentDidMount.call(this)},n.prototype.render=function(){var e=this.props,n=e.primaryMenuItem,t=e.primarySubnode,r=e.secondaryMenuItems,o=e.headerText,i=e.popoverTriggerLabel;return u.createElement("div",{className:"appactions-menu"},u.createElement("div",{className:"appactions-menu--popover"},n&&i&&u.createElement(f,{primaryMenuItem:n,secondaryMenuItems:r,popoverTriggerLabel:i})),u.createElement("div",{className:"appactions-menu--buttons"},n&&u.createElement(b,{primaryMenuItem:n,headerText:o}),t,r&&u.createElement(_,{secondaryMenuItems:r})))},n})(p.ReactPureLogger);v.defaultProps={headerText:"",secondaryMenuItems:[],handleComponentTTI:function(){}};var w=c(v,["/static/css/mcl/index-vfl3F-owF.css","/static/css/dropbox/app_actions-vfloTQXJq.css"]);n.AppActionsView=w}),function(){define("modules/clean/react/bubble_menu",["jquery","external/classnames","external/react","external/react-dom","external/underscore","modules/clean/keycode","modules/clean/react/bubble_dropdown_v2","modules/clean/react_logger"],function(e,n,t,r,o,i,a,s){var l,u,c,d,p,m,h,f,b,y,g;return h=i.KeyCode,f=s.ReactLogger,g=t.DOM,y=t.createElement,b=function(e,n,t){var r,o;if(r=e[n].type,r!==u&&r!==p&&r!==c)return o=(null!=r?r.displayName:void 0)||e[n],new Error("Expected menu items to be instances of BubbleMenuItem, not "+o+".")},d={DEFAULT:1,CHECKBOX:2,RADIO:3},u=t.createClass({displayName:"BubbleMenuItem",propTypes:{onClick:t.PropTypes.func,href:t.PropTypes.string,target:t.PropTypes.string,disabled:t.PropTypes.bool,closeOnClick:t.PropTypes.bool,closeFunc:t.PropTypes.func,className:t.PropTypes.string,onMouseEnter:t.PropTypes.func,onMouseLeave:t.PropTypes.func,itemType:t.PropTypes.oneOf(o.values(d)),checked:t.PropTypes.bool},getDefaultProps:function(){return{onClick:o.noop,href:"#",target:null,disabled:!1,closeOnClick:!0,closeFunc:o.noop,className:null,onMouseEnter:o.noop,onMouseLeave:o.noop,itemType:d.DEFAULT,checked:null}},_handleMouseEnter:function(n){if(null!=this.refs.item)return e(r.findDOMNode(this.refs.item)).closest(".bubble-menu").removeClass("bubble-menu--keyboard"),this.props.onMouseEnter(n)},_handleClick:function(e){return this.props.disabled?(e.preventDefault(),e.stopPropagation()):"#"===this.props.href&&(e.preventDefault(),this.props.onClick(e),this.props.closeOnClick)?this.props.closeFunc():void 0},_getRole:function(){switch(this.props.itemType){case d.CHECKBOX:return"menuitemcheckbox";case d.RADIO:return"menuitemradio";default:return"menuitem"}},_getAriaChecked:function(){switch(this.props.itemType){case d.CHECKBOX:case d.RADIO:return this.props.checked||!1;default:return null}},componentWillMount:function(){return f.start(this.constructor.displayName)},componentDidMount:function(){return f.end(this.constructor.displayName)},renderContents:function(){var e;return e={"bubble-menu-item":!0,"bubble-menu-item--disabled":this.props.disabled,"bubble-menu-item--checked":this.props.checked},g.a({ref:"item",role:this._getRole(),className:n(e),href:this.props.href,target:this.props.target,onClick:this._handleClick,onMouseEnter:this._handleMouseEnter,onMouseLeave:this.props.onMouseLeave,"aria-disabled":this.props.disabled,"aria-checked":this._getAriaChecked()},this.props.children)},render:function(){return g.li({role:"presentation",className:n("bubble-menu-item-wrapper",this.props.className)},this.renderContents())}}),u.TYPES=d,p=t.createClass({displayName:"BubbleMenuSeparator",propTypes:{className:t.PropTypes.string},getDefaultProps:function(){return{className:"bubble-menu-item-separator"}},render:function(){return g.li({role:"separator",className:this.props.className},this.props.children)}}),c=t.createClass({displayName:"BubbleMenuItemGroup",props:{items:t.PropTypes.arrayOf(b).isRequired,closeFunc:t.PropTypes.func},render:function(){var e,n;return 0===this.props.items.length?null:g.li({className:"bubble-menu-item-group",role:"presentation"},g.ul({className:"bubble-menu-item-group u-unlist u-trim-padding",role:"group"},function(){var r,o,i,a,s;for(i=this.props.items,s=[],e=r=0,o=i.length;r<o;e=++r)n=i[e],s.push(t.cloneElement(n,{closeFunc:this.props.closeFunc,key:null!=(a=n.key)?a:e}));return s}.call(this)))}}),l=t.createClass({displayName:"BubbleMenu",propTypes:o.extend({},a.propTypes,{headerContent:t.PropTypes.element,items:t.PropTypes.arrayOf(b).isRequired,onShowDropdown:t.PropTypes.func,targetButton:function(e,n,t){var r;if("button"!==(null!=(r=e.targetButton)?r.type:void 0))return new Error("BubbleDropdown's targetButton must be a `<button>`, found: "+e[n].type)}}),componentWillMount:function(){return f.start(this.constructor.displayName)},componentDidMount:function(){return f.end(this.constructor.displayName)},showMenu:function(){var e,n;return null!=(e=this.refs.bubble)&&null!=(n=e.getWrappedComponent())?n.showDropdown():void 0},hideMenu:function(){var e,n;return null!=(e=this.refs.bubble)&&null!=(n=e.getWrappedComponent())?n.hideDropdown():void 0},_onShowBubbleMenu:function(){var n;if(null!=this.refs.menu&&null!=this.refs.bubble)return this.$menu=e(r.findDOMNode(this.refs.menu)),this.$menuitems=this.$menu.find('*[role="menuitem"],*[role="menuitemcheckbox"],*[role="menuitemradio"]'),this.$menu.addClass("bubble-menu--keyboard"),"function"==typeof(n=this.props).onShowDropdown?n.onShowDropdown():void 0},_onKeyDown:function(e){return this.$menu.addClass("bubble-menu--keyboard"),e.keyCode===h.DOWN?(this._focusNext(e.target),e.preventDefault(),e.stopPropagation()):e.keyCode===h.UP?(this._focusPrevious(e.target),e.preventDefault(),e.stopPropagation()):void 0},_onKeyPress:function(e){var n,t,r,o,i,a,s,l,u,c,d,p;for(this.$menu.addClass("bubble-menu--keyboard"),i=null!=(l=e.which)?l:e.keyCode,o=String.fromCharCode(i).toLowerCase(),u=this.$menuitems,p=[],t=r=0,a=u.length;r<a;t=++r){if(s=u[t],n=null!=(c=s.textContent)&&null!=(d=c[0])?d.toLowerCase():void 0,n===o&&t>this.$menuitems.index(e.target)){s.focus(),e.stopPropagation();break}p.push(void 0)}return p},_focusPrevious:function(e){var n;return n=this.$menuitems.index(e),n=n===-1||0===n?this.$menuitems.length-1:n-1,this.$menuitems.get(n).focus()},_focusNext:function(e){var n;return n=this.$menuitems.index(e),n=n===-1||n===this.$menuitems.length-1?0:n+1,this.$menuitems.get(n).focus()},render:function(){var e,n,r;return this.props.targetButton&&(r=y(m,{ref:"targetButton",childProps:{"aria-haspopup":!0}},this.props.targetButton)),y(a,o.extend({},this.props,{ref:"bubble",shouldTrapKeyboardFocus:!0,onShowDropdown:this._onShowBubbleMenu,targetButton:r}),g.div({},this.props.headerContent),g.ul({role:"menu",ref:"menu",className:"bubble-menu",onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress},function(){var r,o,i,a,s;for(i=this.props.items,s=[],e=r=0,o=i.length;r<o;e=++r)n=i[e],s.push(t.cloneElement(n,{closeFunc:this.hideMenu,key:null!=(a=n.key)?a:e}));return s}.call(this)))}}),m=t.createClass({displayName:"BubbleMenuTargetButtonWrapper",propTypes:{childProps:t.PropTypes.object},render:function(){return t.cloneElement(this.props.children,this.props.childProps)}}),l.POSITIONS=a.POSITIONS,{BubbleMenuItem:u,BubbleMenuSeparator:p,BubbleMenuItemGroup:c,BubbleMenu:l}})}.call(this),define("modules/clean/react/file_uploader/file_uploader",["require","exports","tslib","external/react","modules/clean/react_logger","modules/core/exception"],function(e,n,t,r,o,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=null,s=(function(n){function o(e){var t=n.call(this,"FileUploaderController",e)||this;return t.path=t.props.initialPath?t.props.initialPath:"/",t.state={fileUploader:void 0,uploaderStore:void 0,uploaderActions:void 0},t.props.loadOnRender&&o.requireFileUploader(),a?i.reportStack("Only one FileUploader component may be rendered to the page at any time.You have tried to instantiate multiple uploaders.",{severity:i.SEVERITY.CRITICAL}):a=t,t}return t.__extends(o,n),o.requireFileUploader=function(n){e(["modules/clean/react/file_uploader/uploader","modules/clean/react/file_uploader/store","modules/clean/react/file_uploader/actions"],function(e,t,r){a&&(a.setAsyncRequiredUploaderModules(e,r,t),n&&o.showModal(n))})},o.prototype.setAsyncRequiredUploaderModules=function(e,n,t){var r=e.FileUploader,o=t.UploaderStore,i=n.UploaderActions;this.setState({fileUploader:r,uploaderStore:o,uploaderActions:i}),this.props.needToSetStoreValues&&(void 0!==this.user&&i.setUser({user:this.user}),i.setPath({path:this.path}))},o.prototype.componentWillUnmount=function(){a=null},o.loadCoreComponent=function(){a&&a.state.fileUploader||(e.defined("modules/clean/react/file_uploader/uploader"),o.requireFileUploader())},o.isCoreComponentDefined=function(){return!!a&&!!a.state.fileUploader},o.setPathAndPermissions=function(e){a&&a.state.uploaderActions&&a.state.uploaderActions.setPath(e)},o.setPath=function(e){a&&(a.state.uploaderActions?a.state.uploaderActions.setPath({path:e}):(e||(e="/"),a.path=e))},o.setUser=function(e){a&&(a.state.uploaderActions?a.state.uploaderActions.setUser({user:e}):a.user=e?e:void 0)},o.showModal=function(e){a&&(a.refs.fileUploader?e&&"regular"!==e?"out-of-quota"===e?a.refs.fileUploader.showOOQModal():"team-onboarding"===e&&a.state.fileUploader.showModalWithTeamOnboarding():a.refs.fileUploader.showModal():(e=e||"regular",o.requireFileUploader(e)))},o.isDraggingFilesHelper=function(e){if(!a)return!1;if(!a.state.uploaderStore)return!1;var n=a.state.uploaderStore;return!!n.numDraggingFiles()&&(e?n.isInternalTransfer():!n.isInternalTransfer())},o.isDraggingInternalFiles=function(){return o.isDraggingFilesHelper(!0)},o.isDraggingExternalFiles=function(){return o.isDraggingFilesHelper(!1)},o.isUploadModalOpen=function(){return!!a&&(!!a.state.uploaderStore&&a.state.uploaderStore.isUploadModalOpen())},o.prototype.render=function(){if(!this.state.fileUploader)return r.createElement("div",null);var e=this.props,n=e.onAllFileUploadsComplete,t=e.sendNS,o=e.onFileUploadComplete,i=e.onModalDismissed,a=e.clickOutToClose,s=e.dragAndDropEnabled,l=e.shouldShowDestinationLink,u=e.loadNewUploader,c=e.removeBasicUploader,d=e.uploaderFixGating,p=e.expSubgrowthProNearquotaUploadModal,m=this.state.fileUploader;return r.createElement(m,{ref:"fileUploader",key:1,sendNS:t,onFileUploadComplete:o,onAllFileUploadsComplete:n,onModalDismissed:i,clickOutToClose:a,dragAndDropEnabled:s,shouldShowDestinationLink:l,loadNewUploader:u,removeBasicUploader:c,uploaderFixGating:d,expSubgrowthProNearquotaUploadModal:p})},o})(o.ReactLogger);n.FileUploaderController=s}),function(){define("modules/clean/react/sprite_div",["external/classnames","external/react","modules/clean/react/sprite"],function(e,n,t){var r,o;return r=n.createElement,o=n.DOM.div,n.createClass({displayName:"SpriteDiv",propTypes:{group:n.PropTypes.string.isRequired,name:n.PropTypes.string.isRequired,text:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array]),alt:n.PropTypes.string,spritePosition:n.PropTypes.oneOf(["left","right"])},getDefaultProps:function(){return{alt:"",spritePosition:"left"}},render:function(){var n,i,a,s,l,u,c,d;switch(a=this.props.group,l=this.props.name,d=this.props.text,n=this.props.alt,c=e(["sprite-frame","small","icon-"+this.props.spritePosition]),u=o({className:c,key:0},r(t,{group:a,name:l,alt:n})),s=o({className:"sprite-text",key:1},d),this.props.spritePosition){case"left":i=[u,s];break;case"right":i=[s,u]}return o({className:"sprite-div"},i)}})})}.call(this),define("modules/clean/sharing/wizard/async_wizard_modals",["require","exports"],function(e,n){"use strict";function t(n){e(["modules/clean/sharing/wizard/wizard_modals"],n)}function r(e,n,r,o){t(function(t){t.shareExistingFolder(e,n,r,o)})}function o(e,n){t(function(t){var r=t.showShareAFolderWizardModal(e);n&&n(r)})}Object.defineProperty(n,"__esModule",{value:!0}),n.asyncShareExistingFolder=r,n.asyncShowShareAFolderWizardModal=o});
//# sourceMappingURL=pkg-browse-core.min.js-vflriuYpV.map